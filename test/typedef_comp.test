BEGIN Redefinition of typedef
typedef int a;
typedef signed a;
EXPECT_AST
[["typedef", "Si", "a"]
,["typedef", "Si", "a"]]


BEGIN Redefinition of typedef with different type
typedef int a;
typedef unsigned a;
DECLARATIONS
EXPECT_MESSAGE
:2:18: error redefinition of typedef 'a' with incompatible type...
:1:13: ...see other
EXPECT_AST
[["typedef", "Si", "a"]
,["typedef", "Ui", "a"]]


BEGIN Typedef as self (preparse)
typedef a a;
typedef int a;
PREPARSE
EXPECT_AST
[["typedef", "Na", "a"]
,["typedef", "Si", "a"]]


BEGIN Typedef as self (1)
#type a
typedef int a;
typedef a a;
DECLARATIONS
EXPECT_GLOBALS
[["typedef", "Si", "a"]]


BEGIN Typedef as self (2)
#type a
typedef a a;
typedef int a;
DECLARATIONS
EXPECT_GLOBALS
[["typedef", "Si", "a"]]



BEGIN Redefining typedef with compatible type that is not same type is an error (1)
typedef int T[];
typedef int T[1];
DECLARATIONS
EXPECT_MESSAGE
:2:13: error redefinition of typedef 'T' with incompatible type...
:1:13: ...see other
EXPECT_GLOBALS
[["typedef",["A","Si",1],"T"]]


BEGIN Redefining typedef with compatible type that is not same type is an error (2)
typedef int T[1];
typedef int T[];
DECLARATIONS
EXPECT_MESSAGE
:2:13: error redefinition of typedef 'T' with incompatible type...
:1:13: ...see other
EXPECT_GLOBALS
[["typedef",["A","Si", 1],"T"]]


BEGIN Typedef may not be redeclared as a variable of same type
typedef int a;
int a;
DECLARATIONS
EXPECT_MESSAGE
:2:5: error redeclaration of variable 'a' with different kind of identifier...
:1:13: ...see other
END


BEGIN #type directives composed
#type T
#type T
typedef float T;
DECLARATIONS
EXPECT_GLOBALS
[["typedef","Ff","T"]]
