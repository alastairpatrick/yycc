BEGIN Array type of non-parameter variable may not be qualified
int x[const volatile restrict 1];
DECLARATIONS
EXPECT_MESSAGE
:1:7: error unexpected token 'const'
EXPECT_AST
[["var", "ES", ["A", "Si", 1], "x"]]


BEGIN Array type of non-parameter variable may not be static
int x[static 1];
DECLARATIONS
EXPECT_MESSAGE
:1:7: error unexpected token 'static'
EXPECT_AST
[["var", "ES", ["A", "Si", 1], "x"]]


BEGIN Error if array size is not integer
int x[1.5];
DECLARATIONS
EXPECT_MESSAGE
:1:7: error size of array must have integer type
EXPECT_AST
[["var","ES",["A","Si",1],"x"]]


BEGIN Constant folds array size
int x[1 + 1];
DECLARATIONS
EXPECT_AST
[["var","ES",["A","Si",2],"x"]]


BEGIN Composite type of incomplete array and complete array (1)
int x[];
int x[1];
DECLARATIONS
EXPECT_GLOBALS
[["var","ES",["A","Si",1],"x"]]


BEGIN Composite type of incomplete array and complete array (2)
int x[1];
int x[];
DECLARATIONS
EXPECT_GLOBALS
[["var","ES",["A","Si",1],"x"]]


BEGIN Composite type of complete arrays with same size
int x[1];
int x[1];
DECLARATIONS
EXPECT_GLOBALS
[["var","ES",["A","Si",1],"x"]]


BEGIN Composite type of complete arrays with different constant integer size expressions evaluating to same size
int x[2];
int x[1+1];
DECLARATIONS
EXPECT_GLOBALS
[["var","ES",["A","Si",2],"x"]]


BEGIN Complete arrays with different sizes are not compatible
int x[2];
int x[1];
DECLARATIONS
EXPECT_MESSAGE
:2:5: error redeclaration of 'x' with incompatible type
:1:5: see prior declaration
EXPECT_GLOBALS
[["var","ES",["A","Si",2],"x"]]


BEGIN Error on array of incomplete array type
int x[][];
DECLARATIONS
EXPECT_MESSAGE
:1:6: error incomplete array element type
EXPECT_GLOBALS
[["var","ES",["A","Si"],"x"]]


BEGIN Error on array of incomplete struct type
struct S;
S x[1];
DECLARATIONS
EXPECT_MESSAGE
:2:4: error incomplete array element type
EXPECT_GLOBALS
[["typedef",["STRUCT",["?"]],"S"]
,["var","ES",["A","Si",1],"x"]]


BEGIN Error on array of incomplete union type
union U;
U x[1];
DECLARATIONS
EXPECT_MESSAGE
:2:4: error incomplete array element type
EXPECT_GLOBALS
[["typedef",["UNION",["?"]],"U"]
,["var","ES",["A","Si",1],"x"]]


BEGIN Error on array of incomplete enum type
enum E;
E x[1];
DECLARATIONS
EXPECT_MESSAGE
:2:4: error incomplete array element type
EXPECT_GLOBALS
[["typedef",["ENUM",["?"]],"E"]
,["var","ES",["A","Si",1],"x"]]


BEGIN Error on array of function type
typedef void F(void);
F x[1];
DECLARATIONS
EXPECT_MESSAGE
:2:4: error incomplete array element type
EXPECT_GLOBALS
[["typedef",["F","V"],"F"]
,["var","ES",["A","Si",1],"x"]]


BEGIN Error on array of qualified incomplete type
struct S;
const S x[1];
DECLARATIONS
EXPECT_MESSAGE
:2:10: error incomplete array element type
EXPECT_GLOBALS
[["typedef",["STRUCT",["?"]],"S"]
,["var","ES",["A","Si",1],"x"]]


BEGIN Array size given by sizeof expression
int x;
char a[sizeof(x)];
DECLARATIONS
EXPECT_GLOBALS
[["var","ES",["A","C",4],"a"]
,["var","ES","Si","x"]]


BEGIN Size of array
char c[3];
char a[sizeof(c)];
DECLARATIONS
EXPECT_GLOBALS
[["var","ES",["A","C",3],"a"]
,["var","ES",["A","C",3],"c"]]


BEGIN Error on sizeof incomplete array type
char a[sizeof(float[])];
DECLARATIONS
EXPECT_MESSAGE
:1:8: error sizeof applied to incomplete type
EXPECT_GLOBALS
[["var","ES",["A","C"],"a"]]


BEGIN Impossible recursive array size (1)
char a[sizeof(a)];
DECLARATIONS
EXPECT_MESSAGE
:1:15: error 'a' undeclared
EXPECT_GLOBALS
[["var","ES",["A","C",4],"a"]]


BEGIN Impossible recursive array size (2)
char a[];
char a[sizeof(a)];
DECLARATIONS
EXPECT_MESSAGE
:2:6: error recursive definition of 'a'
EXPECT_GLOBALS
[["var","ES",["A","C"],"a"]]

