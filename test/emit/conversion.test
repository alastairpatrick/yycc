BEGIN Integer signedness only conversion
unsigned f(int x) {
    return x;
}
EXPECT_IR
define i32 @f(i32 %0) {
entry:
  %x = alloca i32, align 4
  store i32 %0, ptr %x, align 4
  %1 = load i32, ptr %x, align 4
  ret i32 %1
}
END


BEGIN Integer zero extending cast
unsigned f(unsigned short x) {
    return x;
}
EXPECT_IR
define i32 @f(i16 %0) {
entry:
  %x = alloca i16, align 2
  store i16 %0, ptr %x, align 2
  %1 = load i16, ptr %x, align 2
  %2 = zext i16 %1 to i32
  ret i32 %2
}
END


BEGIN Integer sign extending cast
int f(short x) {
    return x;
}
EXPECT_IR
define i32 @f(i16 %0) {
entry:
  %x = alloca i16, align 2
  store i16 %0, ptr %x, align 2
  %1 = load i16, ptr %x, align 2
  %2 = sext i16 %1 to i32
  ret i32 %2
}
END


BEGIN Integer truncating cast
short f(int x) {
    return x;
}
EXPECT_IR
define i16 @f(i32 %0) {
entry:
  %x = alloca i32, align 4
  store i32 %0, ptr %x, align 4
  %1 = load i32, ptr %x, align 4
  %2 = trunc i32 %1 to i16
  ret i16 %2
}
END


BEGIN Floating point extending cast
double f(float x) {
    return x;
}
EXPECT_IR
define double @f(float %0) {
entry:
  %x = alloca float, align 4
  store float %0, ptr %x, align 4
  %1 = load float, ptr %x, align 4
  %2 = fpext float %1 to double
  ret double %2
}
END


BEGIN Floating point truncating cast
float f(double x) {
    return x;
}
EXPECT_IR
define float @f(double %0) {
entry:
  %x = alloca double, align 8
  store double %0, ptr %x, align 8
  %1 = load double, ptr %x, align 8
  %2 = fptrunc double %1 to float
  ret float %2
}
END



