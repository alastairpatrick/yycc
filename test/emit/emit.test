
BEGIN Volatile store
void f() {
    volatile int x;
    x = 1;
}
EXPECT_IR
define void @f() {
  %x = alloca i32, align 4
  store volatile i32 1, ptr %x, align 4
  ret void
}
END


BEGIN Volatile load
void f() {
    volatile int x;
    x + 1;
}
EXPECT_IR
define void @f() {
  %x = alloca i32, align 4
  %1 = load volatile i32, ptr %x, align 4
  %2 = add i32 %1, 1
  ret void
}
END


BEGIN Unreachable branching control flow is harmless
int what;
void f() {
    return;
    if (what) {
    } else {
    }
}
EXPECT_IR
@what = global i32 0

define void @f() {
  ret void

if_c:                                             ; No predecessors!
  br label %if_e

if_a:                                             ; No predecessors!
  br label %if_e

if_e:                                             ; preds = %if_a, %if_c
  ret void
}
END
